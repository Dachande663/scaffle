{"version":3,"sources":["index.js","controllers/ListCollectionsCtrl.js","controllers/ListEntitiesCtrl.js","controllers/ViewEntityCtrl.js","filters/humanize.js","services/ranger.js","views.js"],"names":["angular","app","module","config","$locationProvider","$stateProvider","$urlRouterProvider","html5Mode","otherwise","state","abstract","url","templateUrl","resolve","Ranger","RangerLoader","load","controller","$scope","collections","getSchemas","views","master@app","console","log","doSomething","template","Schema","$stateParams","getSchema","collection","entity","$http","get","slug","schema","then","resp","entities","data","items","ucfirst","str","charAt","toUpperCase","slice","plural","item","filter","substr","replace","service","loadDataFromUrl","this","schema_map","forEach","schemas","i","prototype"],"mappings":"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","file":"app.js","sourcesContent":["(function(angular){\n\n\t'use strict';\n\n\n\tvar app = angular.module('Scaffle.App', ['ui.bootstrap', 'ui.router']);\n\n\n\tapp.config(function($locationProvider, $stateProvider, $urlRouterProvider){\n\n\n\t\t$locationProvider.html5Mode(true);\n\t\t$urlRouterProvider.otherwise('/');\n\n\n\t\t$stateProvider.state('app', {\n\t\t\tabstract: true,\n\t\t\turl: '/',\n\t\t\ttemplateUrl: 'master.html',\n\t\t\tresolve: {\n\t\t\t\tRanger: function(RangerLoader) {\n\t\t\t\t\treturn RangerLoader.load();\n\t\t\t\t}\n\t\t\t},\n\t\t\tcontroller: function($scope, Ranger) {\n\t\t\t\t$scope.collections = Ranger.getSchemas();\n\t\t\t}\n\t\t});\n\n\n\t\t$stateProvider.state('app.dashboard', {\n\t\t\turl: '',\n\t\t\tviews: {\n\t\t\t\t'master@app': {\n\t\t\t\t\ttemplateUrl: 'dashboard.html',\n\t\t\t\t\tcontroller: function(Ranger) {\n\t\t\t\t\t\tconsole.log(Ranger.doSomething());\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\n\t\t$stateProvider.state('app.about', {\n\t\t\turl: 'about',\n\t\t\tviews: {\n\t\t\t\t'master@app': {\n\t\t\t\t\ttemplateUrl: 'about.html'\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\n\t\t$stateProvider.state('app.collections', {\n\t\t\turl: '-',\n\t\t\tviews: {\n\t\t\t\t'master@app': {\n\t\t\t\t\ttemplateUrl: 'collection/index.html',\n\t\t\t\t\tcontroller: 'ListCollectionsCtrl'\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\n\t\t$stateProvider.state('app.collection', {\n\t\t\tabstract: true,\n\t\t\turl: '-/:collection',\n\t\t\ttemplate: '<ui-view/>',\n\t\t\tresolve: {\n\t\t\t\tSchema: function($stateParams, Ranger) {\n\t\t\t\t\treturn Ranger.getSchema($stateParams.collection);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\n\t\t$stateProvider.state('app.collection.list', {\n\t\t\turl: '?page',\n\t\t\tviews: {\n\t\t\t\t'master@app': {\n\t\t\t\t\ttemplateUrl: 'collection/list.html',\n\t\t\t\t\tcontroller: 'ListEntitiesCtrl'\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\n\t\t$stateProvider.state('app.collection.view', {\n\t\t\turl: '/:slug',\n\t\t\tresolve: {\n\t\t\t\tentity: function($stateParams, $http) {\n\t\t\t\t\treturn $http.get('http://localhost:3001/1/' + $stateParams.collection + '/' + $stateParams.slug);\n\t\t\t\t}\n\t\t\t},\n\t\t\tviews: {\n\t\t\t\t'master@app': {\n\t\t\t\t\ttemplateUrl: 'collection/view.html',\n\t\t\t\t\tcontroller: 'ViewEntityCtrl'\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\n\t});\n\n\n})(angular);\n","(function(app){\n\n\t'use strict';\n\n\n\tapp.controller('ListCollectionsCtrl', function($scope, Ranger){\n\t\t$scope.collections = Ranger.getSchemas();\n\t});\n\n\n})(angular.module('Scaffle.App'));\n","(function(app){\n\n\t'use strict';\n\n\n\tapp.controller('ListEntitiesCtrl', function($scope, $http, $stateParams, Schema){\n\n\t\t$scope.schema = Schema;\n\n\t\t$http.get('http://localhost:3001/1/' + $stateParams.collection).then(function(resp){\n\t\t\t$scope.entities = resp.data.items;\n\t\t});\n\n\t});\n\n\n\tfunction ucfirst(str) {\n\t\treturn str.charAt(0).toUpperCase() + str.slice(1);\n\t}\n\n\n})(angular.module('Scaffle.App'));\n","(function(app){\n\n\t'use strict';\n\n\n\tapp.controller('ViewEntityCtrl', function($scope, $stateParams, entity){\n\t\t$scope.collection = {\n\t\t\tslug: $stateParams.collection,\n\t\t\tplural: ucfirst($stateParams.collection)\n\t\t};\n\t\t$scope.entity = entity.data.item;\n\t});\n\n\n\tfunction ucfirst(str) {\n\t\treturn str.charAt(0).toUpperCase() + str.slice(1);\n\t}\n\n\n})(angular.module('Scaffle.App'));\n","(function(app){\n\n\t'use strict';\n\n\n\tapp.filter('humanize', function(){\n\t\treturn function(str) {\n\t\t\tif(str === '_id') {\n\t\t\t\treturn 'ID';\n\t\t\t}\n\t\t\tif(str.charAt(0) === '_') {\n\t\t\t\tstr = str.substr(1);\n\t\t\t}\n\t\t\tstr = str.replace(/_/g, ' ');\n\t\t\treturn ucfirst(str);\n\t\t};\n\t});\n\n\n\tfunction ucfirst(str) {\n\t\treturn str.charAt(0).toUpperCase() + str.slice(1);\n\t}\n\n\n})(angular.module('Scaffle.App'));\n","(function(app){\n\n\t'use strict';\n\n\n\tapp.service('RangerLoader', function($http){\n\n\n\t\tvar Ranger = function(data) {\n\t\t\tthis.schema_map = {};\n\t\t\tthis.data = data;\n\t\t\tangular.forEach(data.schemas, function(schema, i){\n\t\t\t\tthis.schema_map[schema.slug] = i;\n\t\t\t}, this);\n\t\t};\n\n\n\t\tRanger.prototype.doSomething = function() {\n\t\t\tconsole.log('doing something');\n\t\t};\n\n\n\t\tRanger.prototype.getSchemas = function() {\n\t\t\treturn this.data.schemas;\n\t\t};\n\n\n\t\tRanger.prototype.getSchema = function(slug) {\n\t\t\treturn (slug in this.schema_map) ? this.data.schemas[this.schema_map[slug]] : null;\n\t\t};\n\n\n\t\tfunction loadDataFromUrl() {\n\n\t\t\treturn $http.get('/ranger.json')\n\t\t\t\t.then(function(resp){\n\t\t\t\t\treturn new Ranger(resp.data);\n\t\t\t\t});\n\n\t\t}\n\n\n\t\treturn {\n\t\t\tload: loadDataFromUrl\n\t\t};\n\n\n\t});\n\n\n})(angular.module('Scaffle.App'));\n",null],"sourceRoot":"/source/"}